(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-search"],{"0e2e":function(t,e,i){"use strict";var a=i("e97d"),n=i.n(a);n.a},7685:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page",on:{touchmove:function(e){e=t.$handleEvent(e),t.handletouchmove(e)},touchstart:function(e){e=t.$handleEvent(e),t.handletouchstart(e)},touchend:function(e){e=t.$handleEvent(e),t.handletouchend(e)}}},[i("v-uni-view",{staticClass:"search-block"},[i("v-uni-view",{staticClass:"search-ico-wapper"},[i("v-uni-image",{staticClass:"search-ico",attrs:{src:"../../static/icos/search.png"}})],1),i("v-uni-input",{staticClass:"search-txt",attrs:{type:"text",placeholder:"搜索预告",maxlength:"10","confirm-type":"search"},on:{confirm:function(e){e=t.$handleEvent(e),t.searchFilm(e)}}})],1),i("v-uni-view",{staticClass:"movie-list page-block"},t._l(t.searchFilmList,function(e,a){return i("v-uni-view",{key:a,staticClass:"movie-wapper"},[i("v-uni-image",{staticClass:"poster-img",attrs:{src:e.cover,"data-movieId":e.id},on:{click:function(e){e=t.$handleEvent(e),t.showMovie(e)}}})],1)}),1)],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},8625:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{searchFilmList:[],flag:0,lastX:0,lastY:0}},onLoad:function(){this.getAllFilm()},methods:{showMovie:function(t){var e=t.currentTarget.dataset.movieid;uni.navigateTo({url:"../movie/movie?movieId="+e})},getAllFilm:function(){var t=this;uni.showLoading({mask:!0,title:"努力加载中..."}),uni.showNavigationBarLoading(),uni.request({url:this.apiServer+"api/v1/get/all_film/",method:"GET",success:function(e){for(var i in e.data)e.data[i].cover=t.mediaServer+e.data[i].cover;for(var i in e.data)t.searchFilmList.push(e.data[i])},fail:function(t){console.log(t)},complete:function(){uni.hideLoading(),uni.hideNavigationBarLoading(),uni.stopPullDownRefresh()}})},searchFilm:function(t){var e=this;this.searchFilmList=[];var i=t.detail.value;i?(uni.showLoading({mask:!0,title:"努力加载中..."}),uni.showNavigationBarLoading(),uni.request({url:this.apiServer+"api/v1/get/search/",method:"GET",data:{keyword:i},success:function(t){for(var i in t.data)for(var a in t.data[i].cover=e.mediaServer+t.data[i].cover,t.data[i].trailer=e.mediaServer+t.data[i].trailer,t.data[i].poster)t.data[i].poster[a].poster=e.mediaServer+t.data[i].poster[a].poster;for(var i in t.data)e.searchFilmList.push(t.data[i])},fail:function(t){console.log(t)},complete:function(){uni.hideLoading(),uni.hideNavigationBarLoading(),uni.stopPullDownRefresh()}})):this.getAllFilm()},handletouchmove:function(t){if(0===this.flag){var e=t.touches[0].pageX,i=t.touches[0].pageY,a=e-this.lastX,n=i-this.lastY;this.mindex=-1,Math.abs(a)>Math.abs(n)&&(a<0?(this.flag=1,console.log("向左滑动"),uni.switchTab({url:"../me/me"})):a>0&&(this.flag=2,console.log("向右滑动"),uni.switchTab({url:"../index/index"}))),this.lastX=e,this.lastY=i}},handletouchstart:function(t){this.lastX=t.touches[0].pageX,this.lastY=t.touches[0].pageY},handletouchend:function(t){this.flag=0}}};e.default=a},af49:function(t,e,i){"use strict";i.r(e);var a=i("7685"),n=i("b740");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("0e2e");var r=i("2877"),s=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"40c7f396",null);e["default"]=s.exports},b740:function(t,e,i){"use strict";i.r(e);var a=i("8625"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},de92:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"/* 搜索框 start */.search-ico[data-v-40c7f396]{width:%?40?%;height:%?40?%}.search-txt[data-v-40c7f396]{font-size:14px;background-color:#eaeaea;height:%?60?%;width:%?650?%}.search-block[data-v-40c7f396]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding:%?0?% %?20?% %?20?% %?20?%;\r\n\t/* 固定搜索栏 */position:fixed;top:100;z-index:2000;background-color:#f8f8f8}.search-ico-wapper[data-v-40c7f396]{background-color:#eaeaea;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:%?0?% %?10?% %?0?% %?10?%}\r\n/* 搜索框 end */\r\n/* 预告片列表 start */.poster-img[data-v-40c7f396]{width:%?200?%;height:%?270?%}.movie-list[data-v-40c7f396]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:%?100?% %?10?% %?0?% %?10?%}.movie-wapper[data-v-40c7f396]{padding:%?10?% %?20?%}\r\n/* 预告片列表 end */",""])},e97d:function(t,e,i){var a=i("de92");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("0a71876e",a,!0,{sourceMap:!1,shadowMode:!1})}}]);